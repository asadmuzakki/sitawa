import { useState, useRef, useEffect } from "react";
import { useNavigate } from "react-router-dom";
import logo from "../../assets/logo/sumbawa.jpeg";

const NavPengaduan = () => {
  const [color] = useState(1);
  const [showEdit, setShowEdit] = useState(false);
  const [showToggle, setShowToggle] = useState<Boolean>(false);
  const navData = ["Beranda", "Pengaduan", "Hasil Pengaduan"];
  const detailProfileRef = useRef<HTMLDivElement>(null);
  const handleClickOutside = (event: MouseEvent) => {
    if (
      detailProfileRef.current &&
      !detailProfileRef.current.contains(event.target as Node)
    ) {
      setShowEdit(false);
    }
  };
  useEffect(() => {
    document.addEventListener("mousedown", handleClickOutside);

    return () => {
      document.removeEventListener("mousedown", handleClickOutside);
    };
  }, [color]);
  const navigate = useNavigate();
  const handleClick = (index: any) => {
    if (index === 0) {
      navigate("/");
    }
    if (index === 1) {
      navigate("/pengaduan");
    }
    if (index === 2) {
      navigate("/hasil-pengaduan");
    }
  };
  return (
    <div className="w-full relative">
      <div className="bg-[#FFFFFF] flex items-center w-full h-[123px] border border-[#F7F7F7] fixed  z-10">
        <div className="flex justify-between w-full items-center">
          <div className="logo flex gap-2 items-center ml-[41px]">
            <img className="w-[39px] h-[57px]" src={logo} alt="" />
            <p className="text-[20px] text-[#9BEC00] font-bold">si TAWA</p>
          </div>
          <div className="nav-item flex gap-10">
            {navData.map((data, index) => {
              return (
                <div>
                  <p
                    className={`text-[16px] ${
                      color === index ? "text-[#9BEC00]" : "text-[#858585]"
                    } cursor-pointer`}
                    onClick={() => handleClick(index)}
                  >
                    {data}
                  </p>
                </div>
              );
            })}
          </div>
          <div className="flex items-center mr-[41px]">
            <button className="login-btn border px-1 py-2 rounded-lg bg-[#9BEC00] text-white">
              Login as Admin
            </button>

            <span
              onClick={() => setShowToggle(!showToggle)}
              className={`hamburger cursor-pointer ${showToggle ? "hidden" : ""}`}
            >
              <svg
                width="22"
                height="22"
                viewBox="0 0 22 22"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g clip-path="url(#clip0_2680_27)">
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M11 4.54663C10.8444 4.54663 10.6952 4.60844 10.5852 4.71846C10.4751 4.82848 10.4133 4.9777 10.4133 5.1333C10.4133 5.28889 10.4751 5.43811 10.5852 5.54813C10.6952 5.65815 10.8444 5.71996 11 5.71996H21.2667C21.4223 5.71996 21.5715 5.65815 21.6815 5.54813C21.7915 5.43811 21.8533 5.28889 21.8533 5.1333C21.8533 4.9777 21.7915 4.82848 21.6815 4.71846C21.5715 4.60844 21.4223 4.54663 21.2667 4.54663H11ZM11 7.47996C10.923 7.47996 10.8467 7.49514 10.7755 7.52462C10.7043 7.5541 10.6396 7.59732 10.5852 7.6518C10.5307 7.70627 10.4875 7.77095 10.458 7.84212C10.4285 7.9133 10.4133 7.98959 10.4133 8.06663C10.4133 8.14367 10.4285 8.21996 10.458 8.29114C10.4875 8.36232 10.5307 8.42699 10.5852 8.48147C10.6396 8.53594 10.7043 8.57916 10.7755 8.60864C10.8467 8.63812 10.923 8.6533 11 8.6533H21.2667C21.4223 8.6533 21.5715 8.59149 21.6815 8.48147C21.7915 8.37145 21.8533 8.22222 21.8533 8.06663C21.8533 7.91104 21.7915 7.76182 21.6815 7.6518C21.5715 7.54177 21.4223 7.47996 21.2667 7.47996H11ZM10.4133 11C10.4133 10.6773 10.6773 10.4133 11 10.4133H21.2667C21.4223 10.4133 21.5715 10.4751 21.6815 10.5851C21.7915 10.6951 21.8533 10.8444 21.8533 11C21.8533 11.1556 21.7915 11.3048 21.6815 11.4148C21.5715 11.5248 21.4223 11.5866 21.2667 11.5866H11C10.923 11.5866 10.8467 11.5715 10.7755 11.542C10.7043 11.5125 10.6396 11.4693 10.5852 11.4148C10.5307 11.3603 10.4875 11.2956 10.458 11.2245C10.4285 11.1533 10.4133 11.077 10.4133 11ZM11 13.3466C10.8444 13.3466 10.6952 13.4084 10.5852 13.5185C10.4751 13.6285 10.4133 13.7777 10.4133 13.9333C10.4133 14.0889 10.4751 14.2381 10.5852 14.3481C10.6952 14.4582 10.8444 14.52 11 14.52H21.2667C21.4223 14.52 21.5715 14.4582 21.6815 14.3481C21.7915 14.2381 21.8533 14.0889 21.8533 13.9333C21.8533 13.7777 21.7915 13.6285 21.6815 13.5185C21.5715 13.4084 21.4223 13.3466 21.2667 13.3466H11ZM10.4133 16.8666C10.4133 16.544 10.6773 16.28 11 16.28H21.2667C21.4223 16.28 21.5715 16.3418 21.6815 16.4518C21.7915 16.5618 21.8533 16.711 21.8533 16.8666C21.8533 17.0222 21.7915 17.1714 21.6815 17.2815C21.5715 17.3915 21.4223 17.4533 21.2667 17.4533H11C10.8444 17.4533 10.6952 17.3915 10.5852 17.2815C10.4751 17.1714 10.4133 17.0222 10.4133 16.8666ZM3.66667 13.5666L7.33333 8.79996H0L3.66667 13.5666Z"
                    fill="url(#paint0_linear_2680_27)"
                  />
                </g>
                <defs>
                  <linearGradient
                    id="paint0_linear_2680_27"
                    x1="10.9267"
                    y1="4.54663"
                    x2="10.9267"
                    y2="17.4533"
                    gradientUnits="userSpaceOnUse"
                  >
                    <stop stop-color="#9BEC00" />
                    <stop offset="1" stop-color="#06D001" />
                  </linearGradient>
                  <clipPath id="clip0_2680_27">
                    <rect width="22" height="22" fill="white" />
                  </clipPath>
                </defs>
              </svg>
            </span>
            <span
              onClick={() => setShowToggle(!showToggle)}
              className={`cursor-pointer ${showToggle ? "" : "hidden"}`}
            >
              <svg
                width="22"
                height="22"
                viewBox="0 0 22 22"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g clip-path="url(#clip0_2659_23)">
                  <rect width="22" height="22" fill="white" />
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M11 4.54663C10.8444 4.54663 10.6952 4.60844 10.5852 4.71846C10.4751 4.82848 10.4133 4.9777 10.4133 5.1333C10.4133 5.28889 10.4751 5.43811 10.5852 5.54813C10.6952 5.65815 10.8444 5.71996 11 5.71996H21.2667C21.4223 5.71996 21.5715 5.65815 21.6815 5.54813C21.7915 5.43811 21.8533 5.28889 21.8533 5.1333C21.8533 4.9777 21.7915 4.82848 21.6815 4.71846C21.5715 4.60844 21.4223 4.54663 21.2667 4.54663H11ZM11 7.47996C10.923 7.47996 10.8467 7.49514 10.7755 7.52462C10.7043 7.5541 10.6396 7.59732 10.5852 7.6518C10.5307 7.70627 10.4875 7.77095 10.458 7.84212C10.4285 7.9133 10.4133 7.98959 10.4133 8.06663C10.4133 8.14367 10.4285 8.21996 10.458 8.29114C10.4875 8.36232 10.5307 8.42699 10.5852 8.48147C10.6396 8.53594 10.7043 8.57916 10.7755 8.60864C10.8467 8.63812 10.923 8.6533 11 8.6533H21.2667C21.4223 8.6533 21.5715 8.59149 21.6815 8.48147C21.7915 8.37145 21.8533 8.22222 21.8533 8.06663C21.8533 7.91104 21.7915 7.76182 21.6815 7.6518C21.5715 7.54177 21.4223 7.47996 21.2667 7.47996H11ZM10.4133 11C10.4133 10.6773 10.6773 10.4133 11 10.4133H21.2667C21.4223 10.4133 21.5715 10.4751 21.6815 10.5851C21.7915 10.6951 21.8533 10.8444 21.8533 11C21.8533 11.1556 21.7915 11.3048 21.6815 11.4148C21.5715 11.5248 21.4223 11.5866 21.2667 11.5866H11C10.923 11.5866 10.8467 11.5715 10.7755 11.542C10.7043 11.5125 10.6396 11.4693 10.5852 11.4148C10.5307 11.3603 10.4875 11.2956 10.458 11.2245C10.4285 11.1533 10.4133 11.077 10.4133 11ZM11 13.3466C10.8444 13.3466 10.6952 13.4084 10.5852 13.5185C10.4751 13.6285 10.4133 13.7777 10.4133 13.9333C10.4133 14.0889 10.4751 14.2381 10.5852 14.3481C10.6952 14.4582 10.8444 14.52 11 14.52H21.2667C21.4223 14.52 21.5715 14.4582 21.6815 14.3481C21.7915 14.2381 21.8533 14.0889 21.8533 13.9333C21.8533 13.7777 21.7915 13.6285 21.6815 13.5185C21.5715 13.4084 21.4223 13.3466 21.2667 13.3466H11ZM10.4133 16.8666C10.4133 16.544 10.6773 16.28 11 16.28H21.2667C21.4223 16.28 21.5715 16.3418 21.6815 16.4518C21.7915 16.5618 21.8533 16.711 21.8533 16.8666C21.8533 17.0222 21.7915 17.1714 21.6815 17.2815C21.5715 17.3915 21.4223 17.4533 21.2667 17.4533H11C10.8444 17.4533 10.6952 17.3915 10.5852 17.2815C10.4751 17.1714 10.4133 17.0222 10.4133 16.8666ZM3.61549 5.1333L7.33333 8.79996H0L3.61549 5.1333Z"
                    fill="url(#paint0_linear_2659_23)"
                  />
                </g>
                <defs>
                  <linearGradient
                    id="paint0_linear_2659_23"
                    x1="10.9267"
                    y1="4.54663"
                    x2="10.9267"
                    y2="17.4533"
                    gradientUnits="userSpaceOnUse"
                  >
                    <stop stop-color="#9BEC00" />
                    <stop offset="1" stop-color="#06D001" />
                  </linearGradient>
                  <clipPath id="clip0_2659_23">
                    <rect width="22" height="22" fill="white" />
                  </clipPath>
                </defs>
              </svg>
            </span>
          </div>
        </div>
        <div
          className={`absolute mt-28 border px-2 rounded-xl shadow-xl right-0 mr-10 bg-white ${
            showToggle ? "" : "hidden"
          }`}
        >
          <div onClick={() => navigate("/")} className="flex items-center gap-3 py-1 cursor-pointer">
            <span>
              <svg
                width="20"
                height="20"
                viewBox="0 0 15 15"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M3.75 11.8749H6.0575V8.19745H8.9425V11.8749H11.25V6.24995L7.5 3.4137L3.75 6.24995V11.8749ZM3.125 12.4999V5.93745L7.5 2.63245L11.875 5.93745V12.4999H8.3175V8.82245H6.6825V12.4999H3.125Z"
                  fill="#858585"
                />
              </svg>
            </span>
            <p className="text-[12px]">Beranda</p>
          </div>
          <div onClick={() => navigate("/pengaduan")} className="flex items-center gap-3 py-1 cursor-pointer">
            <span>
              <svg
                width="20"
                height="20"
                viewBox="0 0 14 13"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g clip-path="url(#clip0_2692_24)">
                  <path
                    d="M9.91437 4.88208H9.91904M9.91904 3.79658V2.44025M4.3762 11.9167H2.7522C2.56379 11.9167 2.3742 11.8918 2.20095 11.823C1.63745 11.5982 1.35104 11.3008 1.21804 11.115C1.18194 11.0636 1.16421 11.0029 1.16735 10.9415C1.17049 10.8802 1.19435 10.8213 1.23554 10.7732C1.88887 9.96725 3.4032 9.48083 4.3762 9.48083M4.37912 11.9167H6.00254C6.19154 11.9167 6.38054 11.8918 6.55379 11.823C7.11787 11.5982 7.4037 11.3008 7.53729 11.115C7.57338 11.0636 7.59112 11.0029 7.58798 10.9415C7.58484 10.8802 7.56098 10.8213 7.51979 10.7732C6.86645 9.96725 5.35212 9.48083 4.37912 9.48083M12.8334 3.67904C12.8334 5.11229 11.5267 6.27471 9.91437 6.27471C9.72459 6.27471 9.53637 6.25846 9.3497 6.22596C9.21554 6.20267 9.14904 6.19129 9.10179 6.19779C9.05512 6.20429 8.98862 6.23679 8.85679 6.30287C8.47917 6.48981 8.04456 6.55262 7.62362 6.48108C7.78345 6.298 7.89195 6.07862 7.94037 5.84354C7.96954 5.7 7.8972 5.56025 7.7887 5.45787C7.28209 4.98521 6.99697 4.34591 6.99537 3.67904C6.99537 2.24579 8.30204 1.08337 9.91437 1.08337C11.5267 1.08337 12.8334 2.24579 12.8334 3.67904ZM5.99962 6.65658C5.999 7.05519 5.82796 7.43726 5.52409 7.71882C5.22022 8.00037 4.80839 8.15837 4.37912 8.15808C4.16647 8.15837 3.95583 8.11975 3.75925 8.04445C3.56267 7.96915 3.38398 7.85863 3.23339 7.7192C3.08281 7.57977 2.96327 7.41417 2.88161 7.23185C2.79995 7.04952 2.75776 6.85405 2.75745 6.65658C2.75768 6.45907 2.79982 6.26354 2.88144 6.08115C2.96307 5.89876 3.0826 5.7331 3.23319 5.59361C3.38378 5.45413 3.56249 5.34356 3.75912 5.26822C3.95574 5.19289 4.16642 5.15426 4.37912 5.15454C4.80849 5.15425 5.22041 5.31232 5.5243 5.594C5.82818 5.87567 5.99916 6.25788 5.99962 6.65658Z"
                    stroke="#9BEC00"
                    stroke-width="1.375"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </g>
                <defs>
                  <clipPath id="clip0_2692_24">
                    <rect width="14" height="13" fill="white" />
                  </clipPath>
                </defs>
              </svg>
            </span>
            <p className="text-[#9BEC00] text-[12px]">Pengaduan</p>
          </div>
          <div onClick={() => navigate("/hasil-pengaduan")} className="flex items-center gap-3 py-1 cursor-pointer">
            <span>
              <svg
                width="20"
                height="20"
                viewBox="0 0 22 22"
                fill="#858585"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M9.625 15.8125H15.125V17.1875H9.625V15.8125ZM6.875 15.8125H8.25V17.1875H6.875V15.8125ZM9.625 12.375H15.125V13.75H9.625V12.375ZM6.875 12.375H8.25V13.75H6.875V12.375ZM9.625 8.9375H15.125V10.3125H9.625V8.9375ZM6.875 8.9375H8.25V10.3125H6.875V8.9375Z"
                  fill="#858585"
                />
                <path
                  d="M17.1875 3.4375H15.125V2.75C15.125 2.38533 14.9801 2.03559 14.7223 1.77773C14.4644 1.51987 14.1147 1.375 13.75 1.375H8.25C7.88533 1.375 7.53559 1.51987 7.27773 1.77773C7.01987 2.03559 6.875 2.38533 6.875 2.75V3.4375H4.8125C4.44783 3.4375 4.09809 3.58237 3.84023 3.84023C3.58237 4.09809 3.4375 4.44783 3.4375 4.8125V19.25C3.4375 19.6147 3.58237 19.9644 3.84023 20.2223C4.09809 20.4801 4.44783 20.625 4.8125 20.625H17.1875C17.5522 20.625 17.9019 20.4801 18.1598 20.2223C18.4176 19.9644 18.5625 19.6147 18.5625 19.25V4.8125C18.5625 4.44783 18.4176 4.09809 18.1598 3.84023C17.9019 3.58237 17.5522 3.4375 17.1875 3.4375ZM8.25 2.75H13.75V5.5H8.25V2.75ZM17.1875 19.25H4.8125V4.8125H6.875V6.875H15.125V4.8125H17.1875V19.25Z"
                  fill="#858585"
                />
              </svg>
            </span>
            <p className="text-[12px]">Hasil Pengaduan</p>
          </div>
        </div>
      </div>
      <div
        ref={detailProfileRef}
        className={`w-[185px] h-[102px] rounded-xl border absolute z-[9999999999] top-0 right-0 mr-7 mt-24 bg-white shadow-xl ${
          showEdit ? "block" : "hidden"
        }`}
      >
        <div className="group flex h-[51px] gap-5 items-center cursor-pointer mb-2">
          <span className="ml-7">
            <svg
              className=" group-hover:fill-[#9BEC00] "
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="black"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path d="M10.5815 2.25882C9.54758 2.25882 8.556 2.67529 7.8249 3.41661C7.09379 4.15793 6.68306 5.16338 6.68306 6.21176C6.68306 7.26015 7.09379 8.2656 7.8249 9.00692C8.556 9.74824 9.54758 10.1647 10.5815 10.1647C11.6155 10.1647 12.607 9.74824 13.3381 9.00692C14.0692 8.2656 14.48 7.26015 14.48 6.21176C14.48 5.16338 14.0692 4.15793 13.3381 3.41661C12.607 2.67529 11.6155 2.25882 10.5815 2.25882ZM4.45538 6.21176C4.45538 4.5643 5.10081 2.98432 6.24968 1.81938C7.39856 0.654452 8.95676 0 10.5815 0C12.2063 0 13.7645 0.654452 14.9134 1.81938C16.0622 2.98432 16.7077 4.5643 16.7077 6.21176C16.7077 7.85923 16.0622 9.43921 14.9134 10.6041C13.7645 11.7691 12.2063 12.4235 10.5815 12.4235C8.95676 12.4235 7.39856 11.7691 6.24968 10.6041C5.10081 9.43921 4.45538 7.85923 4.45538 6.21176ZM6.68306 15.8118C5.50143 15.8118 4.36818 16.2877 3.53264 17.135C2.69709 17.9822 2.22769 19.1313 2.22769 20.3294H11.1941V22.5882H0V20.3294C0 18.5322 0.704107 16.8086 1.95742 15.5377C3.21074 14.2669 4.91061 13.5529 6.68306 13.5529H11.1384V15.8118H6.68306ZM19.4923 12.1412V13.6952C20.2887 13.9031 20.9982 14.3277 21.5573 14.906L22.8862 14.1278L24 16.084L22.6723 16.861C22.8892 17.6524 22.8892 18.4888 22.6723 19.2802L24 20.0572L22.8862 22.0134L21.5573 21.2352C20.9903 21.8216 20.2764 22.2402 19.4923 22.4459V24H17.2646V22.4459C16.4805 22.2402 15.7665 21.8216 15.1995 21.2352L13.8707 22.0134L12.7569 20.0572L14.0846 19.2802C13.8677 18.4888 13.8677 17.6524 14.0846 16.861L12.7569 16.084L13.8707 14.1278L15.1995 14.9048C15.7667 14.3189 16.4806 13.9007 17.2646 13.6952V12.1412H19.4923ZM16.4281 16.9784C16.2457 17.3128 16.1499 17.6885 16.1496 18.0706C16.1496 18.4659 16.251 18.8386 16.4281 19.1627L16.4682 19.2339C16.6661 19.5684 16.9461 19.8452 17.2808 20.0374C17.6156 20.2296 17.9937 20.3306 18.3784 20.3306C18.7631 20.3306 19.1413 20.2296 19.476 20.0374C19.8108 19.8452 20.0908 19.5684 20.2887 19.2339L20.3288 19.1627C20.5059 18.8386 20.6061 18.467 20.6061 18.0706C20.6061 17.6753 20.5059 17.3026 20.3288 16.9784L20.2887 16.9073C20.0908 16.5728 19.8108 16.296 19.476 16.1038C19.1413 15.9116 18.7631 15.8106 18.3784 15.8106C17.9937 15.8106 17.6156 15.9116 17.2808 16.1038C16.9461 16.296 16.6661 16.5728 16.4682 16.9073L16.4281 16.9784Z" />
            </svg>
          </span>
          <p className=" group-hover:text-[#9BEC00]">Edit Profile</p>
        </div>
        <div className="group flex h-[51px] gap-5 items- cursor-pointer mt-2">
          <span className="ml-7">
            <svg
              className="group-hover:fill-[#9BEC00]"
              width="22"
              height="22"
              viewBox="0 0 22 22"
              fill="black"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path d="M0 22V0H11.0275V1.375H1.375V20.625H11.0275V22H0ZM17.1353 15.8661L16.17 14.8761L19.3586 11.6875H7.139V10.3125H19.3586L16.1686 7.1225L17.1339 6.13525L22 11L17.1353 15.8661Z" />
            </svg>
          </span>
          <p className=" group-hover:text-[#9BEC00]">Keluar</p>
        </div>
      </div>
    </div>
  );
};

export default NavPengaduan;
